<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to Drug Pricing Insights - Understanding Healthcare Costs</title>
    <meta name="description" content="Discover insights into drug pricing, pharmacy challenges, and healthcare costs in the US. Explore our interactive guide to understand the high price of survival.">
    <meta name="keywords" content="drug pricing, healthcare costs, pharmacy, PBMs, patient care, medical costs, affordable healthcare">
    <link rel="canonical" href="https://www.yourwebsite.com/index.html" /> <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.yourwebsite.com/index.html"> <meta property="og:title" content="Drug Pricing Insights - Unpacking Healthcare Costs">
    <meta property="og:description" content="Explore insights into drug pricing, pharmacy challenges, and healthcare costs in the US.">
    <meta property="og:image" content="https://www.yourwebsite.com/images/og-image.jpg"> <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.yourwebsite.com/index.html"> <meta property="twitter:title" content="Drug Pricing Insights - Unpacking Healthcare Costs">
    <meta property="twitter:description" content="Explore insights into drug pricing, pharmacy challenges, and healthcare costs in the US.">
    <meta property="twitter:image" content="https://www.yourwebsite.com/images/twitter-image.jpg"> <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preload" href="resources/drug_pricing_spa_from_blog_v4.html" as="document">
    <style>
        :root {
            --header-height: 60px; /* Default height */
        }

        @media (max-width: 768px) {
            :root {
                --header-height: 90px; /* Adjusted for stacked header */
            }
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #fdf6e3; /* A soft, warm background */
            color: #333;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            line-height: 1.6;
            overflow-x: hidden; /* Prevent horizontal scroll */
            padding-top: var(--header-height); /* Space for fixed header */
            scroll-snap-type: y mandatory; /* Enable vertical scroll snapping */
            scroll-padding-top: var(--header-height); /* Offset for fixed header */
        }
        header {
            background-color: #ffffff;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 100;
            height: var(--header-height); /* Ensure header height matches variable */
        }
        header nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1.5rem;
            max-width: 1200px;
            margin: 0 auto;
            height: 100%; /* Ensure nav fills header height */
        }
        .nav-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #0284c7;
            text-decoration: none;
        }
        .nav-links a {
            color: #404040;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .nav-links a:hover {
            background-color: #e0f2fe; /* sky-100 */
            color: #0284c7; /* sky-600 */
        }

        .hero-section, .section-container {
            position: relative;
            display: flex;
            flex-direction: column; /* Stack content vertically */
            justify-content: center;
            align-items: center;
            min-height: calc(100vh - var(--header-height)); /* Make sections fill remaining viewport */
            padding: 2rem 1.5rem;
            text-align: center;
            background-color: #ffffff;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border-bottom-left-radius: 2rem;
            border-bottom-right-radius: 2rem;
            overflow: hidden; /* Hide overflowing slides */
            scroll-snap-align: start; /* Snap to the top of the viewport */
            opacity: 0; /* Start hidden for fade effect */
            transform: translateY(20px); /* Start slightly below for slide effect */
            transition: opacity 0.8s ease-in-out, transform 0.8s ease-in-out; /* Smooth transition for fade and slide */
        }
        .section-container {
            margin: 3.5rem auto; /* Increased vertical margin */
            padding: 2.5rem; /* Increased padding */
            border-radius: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        /* Class to make section visible */
        .section-visible {
            opacity: 1;
            transform: translateY(0); /* Move to original position */
        }

        /* Carousel specific styles */
        .carousel-container {
            position: relative;
            width: 100%;
            max-width: 800px; /* Max width for carousel content */
            height: 350px; /* Fixed height for carousel */
            margin-bottom: 2.5rem; /* Increased space between carousel and CTA */
            overflow: hidden;
            border-radius: 1rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15); /* Slightly stronger shadow */
        }
        .carousel-slide-wrapper {
            display: flex;
            width: 100%;
            height: 100%;
            transition: transform 0.5s ease-in-out;
        }
        .carousel-slide {
            flex: 0 0 100%; /* Each slide takes full width of wrapper */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            background-color: #e0f2fe; /* light blue background for slides */
            color: #0c4a6e; /* dark blue text for slides */
            text-align: center;
        }
        .carousel-slide h2 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
            color: #0284c7;
            line-height: 1.2;
        }
        .carousel-slide p {
            font-size: 1.1rem;
            max-width: 600px;
            margin-bottom: 1.5rem;
        }
        .carousel-slide a {
            background-color: #0ea5e9;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.3s ease;
        }
        .carousel-slide a:hover {
            background-color: #0284c7;
        }

        .carousel-nav-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 0.75rem 1rem;
            cursor: pointer;
            font-size: 1.5rem;
            z-index: 20;
            border-radius: 0.5rem;
            transition: background-color 0.3s ease;
        }
        .carousel-nav-button:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }
        .carousel-nav-button.left-arrow { left: 1rem; }
        .carousel-nav-button.right-arrow { right: 1rem; }

        .carousel-indicators {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.5rem;
            z-index: 20;
        }
        .indicator-dot {
            width: 10px;
            height: 10px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .indicator-dot.active {
            background-color: white;
        }

        .cta-button {
            display: inline-block;
            background-color: #0ea5e9; /* Sky-500 */
            color: white;
            padding: 1rem 2.5rem;
            border-radius: 9999px; /* Pill-shaped button */
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 10px rgba(14, 165, 233, 0.3);
            z-index: 10; /* Ensure button is above other elements */
            position: relative;
        }
        .cta-button:hover {
            background-color: #0284c7; /* Darker sky-600 on hover */
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(14, 165, 233, 0.4);
        }

        .section-title {
            font-size: 2rem;
            font-weight: 600;
            color: #0284c7;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        .bio-text {
            font-size: 1rem;
            color: #444;
            text-align: center;
            max-width: 700px;
            margin: 0 auto;
        }
        .articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.75rem; /* Slightly increased gap */
            margin-top: 2rem;
        }
        .article-card {
            background-color: #f0f9ff; /* sky-50 */
            border: 1px solid #e0f2fe; /* sky-100 */
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-align: left;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .article-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15); /* Stronger shadow on hover */
        }
        .article-card h3 {
            font-size: 1.15rem;
            font-weight: 600;
            color: #0c4a6e; /* sky-800 */
            margin-bottom: 0.75rem;
        }
        .article-card p {
            font-size: 0.95rem;
            color: #404040;
            flex-grow: 1; /* Allow paragraph to take available space */
        }
        .article-card a {
            display: inline-block;
            margin-top: 1rem;
            color: #0ea5e9; /* sky-500 */
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
        }
        .article-card a:hover {
            color: #0284c7; /* sky-600 */
            text-decoration: underline;
        }

        /* Article Overlay Styles */
        #articleOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85); /* Slightly darker overlay */
            display: flex;
            flex-direction: column; /* Stack content vertically */
            justify-content: center;
            align-items: center;
            z-index: 1000;
            visibility: hidden; /* Use visibility for smooth transition */
            opacity: 0;
            transition: visibility 0.3s, opacity 0.3s ease-in-out;
            padding: 1rem; /* Added padding for smaller screens */
            box-sizing: border-box;
        }
        #articleOverlay.visible {
            visibility: visible;
            opacity: 1;
        }
        #articleOverlay .overlay-header {
            width: 90%;
            max-width: 1200px; /* Limit header width to match iframe */
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #fff;
            color: #333;
            padding: 0.75rem 1.5rem;
            border-top-left-radius: 1rem;
            border-top-right-radius: 1rem;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
            z-index: 1001; /* Ensure header is above iframe */
            margin-bottom: -1px; /* Overlap with iframe border */
            position: relative;
        }
        #articleOverlay .overlay-header h2 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #0284c7;
            margin: 0;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            padding-right: 2rem; /* Space for close button */
        }
        #articleIframe {
            width: 90%;
            height: 90%;
            max-width: 1200px; /* Max width for iframe */
            max-height: 800px; /* Max height for iframe */
            border: none;
            border-radius: 1rem;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            background-color: white; /* Ensure iframe background is white */
        }
        #closeOverlayBtn {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background-color: white;
            color: #333;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            font-size: 1.4rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: background-color 0.2s, color 0.2s, transform 0.2s;
            z-index: 1002; /* Ensure close button is on top */
        }
        #closeOverlayBtn:hover {
            background-color: #f0f0f0;
            color: #0284c7;
            transform: rotate(90deg); /* Small rotation for interaction */
        }

        /* Loading indicator for iframe */
        .iframe-loading-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 1.2rem;
            z-index: 1001; /* Above iframe, below close button */
        }

        /* Scroll down indicator */
        #scrollDownIndicator {
            position: absolute;
            bottom: 1.5rem;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            animation: bounce 2s infinite;
            z-index: 10;
        }
        #scrollDownIndicator::after {
            content: '';
            width: 10px;
            height: 10px;
            border-right: 2px solid white;
            border-bottom: 2px solid white;
            transform: rotate(45deg);
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-10px); }
            60% { transform: translateX(-50%) translateY(-5px); }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            header nav {
                flex-direction: column;
                align-items: center;
                padding: 0.5rem 1rem;
            }
            .nav-title {
                margin-bottom: 0.5rem;
            }
            .nav-links a {
                padding: 0.3rem 0.7rem;
                font-size: 0.9rem;
            }
            body {
                padding-top: var(--header-height); /* Adjust for stacked header on small screens */
            }
            .carousel-slide h2 {
                font-size: 1.8rem;
            }
            .carousel-slide p {
                font-size: 1rem;
            }
            .hero-section {
                min-height: calc(100vh - var(--header-height));
            }
            .section-container {
                min-height: calc(100vh - var(--header-height));
                margin: 2rem 1rem;
                padding: 1.5rem;
            }
            .section-title {
                font-size: 1.75rem;
            }
            .articles-grid {
                grid-template-columns: 1fr; /* Stack topics on small screens */
            }
            #articleIframe {
                width: 95%;
                height: 95%;
            }
            #articleOverlay .overlay-header {
                width: 95%; /* Match iframe width */
                padding: 0.5rem 1rem;
            }
            #articleOverlay .overlay-header h2 {
                font-size: 1rem;
                padding-right: 1.5rem;
            }
            #closeOverlayBtn {
                top: 0.25rem;
                right: 0.25rem;
                width: 30px;
                height: 30px;
                font-size: 1.2rem;
            }
            #scrollDownIndicator {
                bottom: 1rem;
                width: 25px;
                height: 25px;
            }
            #scrollDownIndicator::after {
                width: 8px;
                height: 8px;
            }
        }
        @media (max-width: 480px) {
            .carousel-slide h2 {
                font-size: 1.5rem;
            }
            .carousel-slide p {
                font-size: 0.9rem;
            }
            .carousel-slide a {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            .hero-section {
                min-height: calc(100vh - var(--header-height));
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="#" class="nav-title">Drug Pricing Insights</a>
            <div class="nav-links">
                <a href="#">Home</a>
                <a href="#articlesGrid">Articles</a>
                <a href="#about-author">About Author</a>
            </div>
        </nav>
    </header>

    <div class="hero-section">
        <div class="carousel-container" id="carouselContainer">
            <div class="carousel-slide-wrapper" id="carouselSlideWrapper">
                </div>
            <button id="prevSlide" class="carousel-nav-button left-arrow" aria-label="Previous Slide">&#8249;</button>
            <button id="nextSlide" class="carousel-nav-button right-arrow" aria-label="Next Slide">&#8250;</button>
            <div class="carousel-indicators" id="carouselIndicators"></div>
        </div>
        <a href="#articlesGrid" class="cta-button">
            Explore All Articles
        </a>
        <div id="scrollDownIndicator" aria-label="Scroll down to explore"></div>
    </div>

    <div class="section-container">
        <h2 class="section-title" id="articlesGrid">Explore Our Insights</h2>
        <div class="articles-grid" id="articlesGridContent">
            </div>
    </div>

    <div class="section-container" id="about-author">
        <h2 class="section-title">About the Author</h2>
        <p class="bio-text">
            Sungjoon Jun, PharmD, is a dedicated healthcare professional with a passion for demystifying complex pharmaceutical and healthcare economics. With a Doctor of Pharmacy degree and years of experience in the field, Sungjoon combines clinical knowledge with a keen understanding of market dynamics to provide clear, insightful analysis on critical issues like drug pricing and pharmacy accessibility. His work aims to empower patients and healthcare stakeholders with the knowledge needed to navigate the evolving healthcare landscape.
        </p>
    </div>

    <footer class="text-center py-8 text-sm text-neutral-600 bg-white mt-8 shadow-inner">
        <p>&copy; 2024 Drug Pricing Insights. All rights reserved. Information for educational purposes only.</p>
    </footer>

    <div id="articleOverlay">
        <div class="overlay-header">
            <h2 id="overlayArticleTitle"></h2>
            <button id="closeOverlayBtn" aria-label="Close Article">&times;</button>
        </div>
        <div class="iframe-loading-indicator" id="iframeLoadingIndicator">Loading...</div>
        <iframe id="articleIframe" src="" frameborder="0" loading="lazy"></iframe>
    </div>

    <script>
        // --- Article Data (Manually update this array for new articles) ---
        const articlesData = [
            {
                title: "The High Price of Survival: Unpacking Americaâ€™s Drug Cost Crisis",
                summary: "Dive deep into the complex factors driving high prescription drug prices and the challenges facing local pharmacies in the United States.",
                url: "resources/drug_pricing_spa_from_blog_v4.html"
            },
            {
                title: "Understanding PBMs: The Hidden Middlemen",
                summary: "A detailed look at how Pharmacy Benefit Managers operate and their impact on drug costs and pharmacy viability. This article provides a deeper dive into the opaque practices of PBMs.",
                url: "resources/pbm_deep_dive.html" // Placeholder URL
            },
            {
                title: "The Future of Community Pharmacies",
                summary: "Exploring innovative models and policy changes that could help revitalize local pharmacies and ensure continued access to vital healthcare services in communities.",
                url: "resources/pharmacy_future.html" // Placeholder URL
            },
             {
                title: "Global Drug Pricing: A Comparative Analysis",
                summary: "Compare drug pricing strategies and outcomes across different countries to understand international disparities and potential solutions.",
                url: "resources/global_pricing_analysis.html" // Placeholder URL
            }
        ];

        // --- Carousel Logic ---
        const carouselSlideWrapper = document.getElementById('carouselSlideWrapper');
        const prevSlideBtn = document.getElementById('prevSlide');
        const nextSlideBtn = document.getElementById('nextSlide');
        const carouselIndicators = document.getElementById('carouselIndicators');
        const carouselContainer = document.getElementById('carouselContainer'); // Get carousel container
        let currentSlideIndex = 0;
        let autoSlideInterval;

        function renderCarouselSlides() {
            carouselSlideWrapper.innerHTML = ''; // Clear existing slides
            carouselIndicators.innerHTML = ''; // Clear existing indicators

            articlesData.forEach((article, index) => {
                const slideDiv = document.createElement('div');
                slideDiv.classList.add('carousel-slide');
                // Use data-url and data-title for article links
                slideDiv.innerHTML = `
                    <h2>${article.title}</h2>
                    <p>${article.summary}</p>
                    <a href="#" class="article-link" data-url="${article.url}" data-title="${article.title}">Read More &rarr;</a>
                `;
                carouselSlideWrapper.appendChild(slideDiv);

                const dot = document.createElement('span');
                dot.classList.add('indicator-dot');
                dot.setAttribute('aria-label', `Go to slide ${index + 1}`);
                dot.addEventListener('click', () => {
                    currentSlideIndex = index;
                    updateCarouselPosition();
                    resetAutoSlide();
                });
                carouselIndicators.appendChild(dot);
            });
            updateCarouselPosition();
            updateIndicatorDots();
        }

        function updateCarouselPosition() {
            const offset = -currentSlideIndex * 100;
            carouselSlideWrapper.style.transform = `translateX(${offset}%)`;
            updateIndicatorDots();
        }

        function updateIndicatorDots() {
            document.querySelectorAll('.indicator-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlideIndex);
            });
        }

        function showNextSlide() {
            currentSlideIndex = (currentSlideIndex + 1) % articlesData.length;
            updateCarouselPosition();
        }

        function showPrevSlide() {
            currentSlideIndex = (currentSlideIndex - 1 + articlesData.length) % articlesData.length;
            updateCarouselPosition();
        }

        function startAutoSlide() {
            autoSlideInterval = setInterval(showNextSlide, 5000); // Change slide every 5 seconds
        }

        function resetAutoSlide() {
            clearInterval(autoSlideInterval);
            startAutoSlide();
        }

        // Event Listeners for carousel navigation
        prevSlideBtn.addEventListener('click', () => { showPrevSlide(); resetAutoSlide(); });
        nextSlideBtn.addEventListener('click', () => { showNextSlide(); resetAutoSlide(); });

        // Pause/Resume auto-slide on hover
        carouselContainer.addEventListener('mouseenter', () => clearInterval(autoSlideInterval));
        carouselContainer.addEventListener('mouseleave', startAutoSlide);

        // Keyboard navigation for carousel
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                showPrevSlide();
                resetAutoSlide();
            } else if (e.key === 'ArrowRight') {
                showNextSlide();
                resetAutoSlide();
            }
        });

        // Initial render and start auto-slide
        renderCarouselSlides();
        startAutoSlide();

        // --- Article Grid Logic ---
        const articlesGridContent = document.getElementById('articlesGridContent');

        function renderArticleTiles() {
            articlesGridContent.innerHTML = ''; // Clear existing tiles
            articlesData.forEach(article => {
                const articleCard = document.createElement('div');
                articleCard.classList.add('article-card');
                // Use data-url and data-title for article links
                articleCard.innerHTML = `
                    <h3>${article.title}</h3>
                    <p>${article.summary}</p>
                    <a href="#" class="article-link" data-url="${article.url}" data-title="${article.title}">Learn More &rarr;</a>
                `;
                articlesGridContent.appendChild(articleCard);
            });
        }

        // Initial render of article tiles
        renderArticleTiles();

        // --- Article Overlay Logic ---
        const articleOverlay = document.getElementById('articleOverlay');
        const articleIframe = document.getElementById('articleIframe');
        const closeOverlayBtn = document.getElementById('closeOverlayBtn');
        const overlayArticleTitle = document.getElementById('overlayArticleTitle');
        const iframeLoadingIndicator = document.getElementById('iframeLoadingIndicator');


        function openArticleOverlay(url, title) {
            overlayArticleTitle.textContent = title; // Set the title in the overlay header
            articleIframe.src = url;
            iframeLoadingIndicator.style.display = 'block'; // Show loading indicator
            articleOverlay.classList.add('visible');
            document.body.style.overflow = 'hidden'; // Prevent scrolling on main page
        }

        function closeArticleOverlay() {
            articleOverlay.classList.remove('visible');
            articleIframe.src = ''; // Clear iframe content
            overlayArticleTitle.textContent = ''; // Clear title
            document.body.style.overflow = ''; // Restore scrolling
            iframeLoadingIndicator.style.display = 'none'; // Hide loading indicator
        }

        // Event listener for all article links (carousel and grid)
        document.addEventListener('click', function(event) {
            const target = event.target;
            // Check if the clicked element is an article link or a child of one
            const articleLink = target.closest('.article-link');
            if (articleLink) {
                event.preventDefault(); // Prevent default link navigation
                const url = articleLink.dataset.url;
                const title = articleLink.dataset.title;
                openArticleOverlay(url, title);
            }
        });

        closeOverlayBtn.addEventListener('click', closeArticleOverlay);

        // Hide loading indicator once iframe content is loaded
        articleIframe.onload = function() {
            iframeLoadingIndicator.style.display = 'none';
        };

        // Close overlay if escape key is pressed
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape' && articleOverlay.classList.contains('visible')) {
                closeArticleOverlay();
            }
        });

        // Smooth scroll for "Explore All Articles" button and scroll-down indicator
        document.querySelector('.hero-section .cta-button').addEventListener('click', function(e) {
            e.preventDefault();
            const targetElement = document.getElementById('articlesGrid');
            if (targetElement) {
                const headerOffset = document.querySelector('header').offsetHeight; // Get header height
                const elementPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
                const offsetPosition = elementPosition - headerOffset;
                window.scrollTo({ top: offsetPosition, behavior: "smooth" });
            }
        });

        document.getElementById('scrollDownIndicator').addEventListener('click', function() {
            const targetElement = document.getElementById('articlesGrid');
            if (targetElement) {
                const headerOffset = document.querySelector('header').offsetHeight; // Get header height
                const elementPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
                const offsetPosition = elementPosition - headerOffset;
                window.scrollTo({ top: offsetPosition, behavior: "smooth" });
            }
        });

        // Smooth scrolling for navigation links in the header
        document.querySelectorAll('header .nav-links a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const targetHref = this.getAttribute('href');
                const hash = targetHref.startsWith('#') ? targetHref.substring(1) : '';

                if (hash) { // Internal hash on the same page
                    e.preventDefault();
                    const targetElement = document.getElementById(hash);
                    if (targetElement) {
                        const headerOffset = document.querySelector('header').offsetHeight;
                        const elementPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
                        const offsetPosition = elementPosition - headerOffset;
                        window.scrollTo({ top: offsetPosition, behavior: "smooth" });
                    }
                } else if (targetHref === '#') { // Home link, scroll to top
                    e.preventDefault();
                    window.scrollTo({ top: 0, behavior: "smooth" });
                }
            });
        });

        // Intersection Observer for fade-in/fade-out effect
        const sections = document.querySelectorAll('.hero-section, .section-container');

        const observerOptions = {
            root: null, // viewport
            rootMargin: '0px',
            threshold: 0.5 // Trigger when 50% of the section is visible
        };

        const sectionObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('section-visible');
                } else {
                    entry.target.classList.remove('section-visible');
                }
            });
        }, observerOptions);

        sections.forEach(section => {
            sectionObserver.observe(section);
        });

        // Make the first section visible immediately on load
        if (sections.length > 0) {
            sections[0].classList.add('section-visible');
        }
    </script>
</body>
</html>
